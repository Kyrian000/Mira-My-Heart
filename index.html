<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>A Question For You</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <style>

        
    </style>
</head>
<body>
    <div class="container">
        <div class="question-card">
            <div id="questionSection">
                <div class="emoji">ğŸ’</div>
                <h1>Will You Be My Valentine, Mira?</h1>
                <p class="subtext">I have something to show you</p>
                
                <div class="buttons">
                    <button class="yes-btn" onclick="sayYes()">Yes</button>
                    <button class="no-btn" id="noBtn" onclick="moveButton(event)">No</button>
                </div>
            </div>

            <div id="successSection" class="success-animation">
                <div class="success-emoji">ğŸ’•</div>
                <div class="success-text">Perfect</div>
                <p class="success-subtext">
                    Loading
                    <span class="loading-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                </p>
            </div>
        </div>
    </div>

    <script>
        let moveCount = 0;
        const noBtn = document.getElementById('noBtn');

        function moveButton(event) {
            event.preventDefault();
            moveCount++;
            
            const card = document.querySelector('.question-card');
            const buttonsContainer = document.querySelector('.buttons');
            const cardRect = card.getBoundingClientRect();
            const containerRect = buttonsContainer.getBoundingClientRect();
            const btnRect = noBtn.getBoundingClientRect();
            
            // Calculate safe movement area
            const padding = 20;
            const maxX = containerRect.width - btnRect.width - padding;
            const maxY = containerRect.height - btnRect.height - padding;
            
            // Generate random position
            const randomX = Math.random() * maxX;
            const randomY = Math.random() * maxY;
            
            // Apply new position
            noBtn.style.position = 'absolute';
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
            noBtn.style.transform = 'none';
            
            // Change button text
            if (moveCount === 3) {
                noBtn.textContent = "Sure?";
            } else if (moveCount === 5) {
                noBtn.textContent = "Really?";
            } else if (moveCount === 7) {
                noBtn.textContent = "Think again";
            }
            
            // Make Yes button slightly bigger
            const yesBtn = document.querySelector('.yes-btn');
            const currentScale = 1 + (moveCount * 0.03);
            yesBtn.style.transform = `scale(${Math.min(currentScale, 1.15)})`;
        }

        function sayYes() {
            // Hide question section
            document.getElementById('questionSection').style.display = 'none';
            
            // Show success animation
            const successSection = document.getElementById('successSection');
            successSection.classList.add('show');
            
            // Simple fade effect for confetti
            createMinimalConfetti();
            
            // Redirect after 2.5 seconds
            setTimeout(() => {
                window.location.href = 'Landing.html';
            }, 2500);
        }

        function createMinimalConfetti() {
            const hearts = ['â¤ï¸', 'ğŸ’•'];
            
            for (let i = 0; i < 12; i++) {
                const heart = document.createElement('div');
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.position = 'fixed';
                heart.style.left = '50%';
                heart.style.top = '50%';
                heart.style.fontSize = '24px';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '1000';
                
                document.body.appendChild(heart);
                
                const angle = (Math.PI * 2 * i) / 12;
                const distance = 200;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                heart.animate([
                    {
                        transform: 'translate(-50%, -50%) scale(0)',
                        opacity: 1
                    },
                    {
                        transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(1)`,
                        opacity: 0
                    }
                ], {
                    duration: 1200,
                    easing: 'cubic-bezier(0.16, 1, 0.3, 1)'
                }).onfinish = () => heart.remove();
            }
        }

        // Prevent default touch behavior
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            moveButton(e);
        }, { passive: false });

        // Prevent double-tap zoom on iOS
        let lastTap = 0;
        document.addEventListener('touchend', (e) => {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            if (tapLength < 500 && tapLength > 0) {
                e.preventDefault();
            }
            lastTap = currentTime;
        }, { passive: false });
    </script>
</body>
</html>